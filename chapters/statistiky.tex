\chapter{Štatistiky}
\label{statistiky}
Analýzou jednotlivých APK súborov získame detailné informácie o jednotlivých aplikáciách. Pre ucelenejší pohľad na všeobecné vlastnosti a atribúty Android aplikácií je vhodné rozšíriť analýzu jednotlivých aplikácií na skúmanie väčšej množiny APK balíčkov. Keďže databáza APK súborov použitá v tejto práci obsahuje dostatočne veľkú vzorku približne 20000 APK súborov, ktoré pochádzajú z rôznych oficiálnych aj alternatívnych zdrojov, poskytuje dobrú vzorku na určenie štatistických údajov a Android aplikáciách. Štatistické informácie prezentované v tejto kapitole sa viažu k aplikáciám dostupným v rokoch 2014--2016 a teda sú aktuálne pre spomenuté obdobie.
Vyvinutá aplikácia \zv{ApkAnalyzer} poskytuje možnosť výpočtu štatistík nad množinou APK súborov. Funkcionalita výpočtu štatistických informácií sa aktivuje pomocou prepínača –statistics pri spustení programu z príkazového riadku. Ako vstup aplikácie slúžia JSON súbory vytvorené analýzou. Výstupom je súbor vo formáte JSON obsahujúci vypočítané štatistické dáta. Pri vlastnostiach, ktorých hodnota je vyjadrená číselne sú vypočítané základné matematické štatistiky ako je aritmetický priemer, modus, medián, rozptyl, smerodajná odchýlka, minimum a maximum. Pri najnižšej a najvyššej hodnote obsahuje výstup aj názov aplikácií, ktoré tieto hodnoty dosahujú. V prípade vlastností, ktoré nadobúdajú obmedzený počet predom definovaných hodnôt je určené percentuálne zastúpenie jednotlivých hodnôt.

\section{Získané dáta}
\subsection*{Veľkosť APK súborov}
Analýzou databázy APK súborov sa zistilo, že stredná hodnota veľkosti APK súborov je 5,26\,MB, priemer dosahuje hodnotu 10.19\,MB.

\subsection*{Počet súborov v APK balíku}
Strednou hodnotou celkového počtu súborov v APK balíčku je 397, aritmetický priemer má hodnotu približne 730 súborov. 

\subsection*{Inštalačná politika}
Android poskytuje možnosť špecifikovať, či aplikácia môže byť presunutá na externé dátové úložisko(viď \ref{el_manifest}). Až 49\,\% aplikácií neumožňuje inštaláciu alebo presun na externé pamäťové médiá.  40\,\% aplikácií preferuje inštaláciu na interné úložisko s možnosťou presunu do externej pamäte. 10,5\,\% aplikácií uprednostňuje svoju inštaláciu na externé pamäťové médium. Rozdelenie hodnôt je zobrazené v grafe \ref{fig:installLoc}.

\begin{figure}[!htbp]
\centering
\begin{tikzpicture}[scale=0.8,align=center]
        \pie[text=label,rotate=240,
             explode=0,
             color={blue!70,cyan!70,red!70,orange!50}]{49.03/internalOnly, 40.47/auto, 10.5/preferExternal}
    \end{tikzpicture}
\label{fig:installLoc}
\caption{Hodnoty atribútu installLocation}
\end{figure}

\subsection*{Komponenty aplikácií}

Základnou funkčnou jednotkou Android aplikácií sú aktivity (viď \ref{el_activity}). Stredná hodnota počtu aktivít medzi analyzovanými aplikáciami je  10, priemer dosahuje hodnotu 20,23. Aplikácie obsahujú najčastejšie 2 aktivity. Priemerný počet služieb definovaných v aplikácií je 3,99, stredná hodnota je 1, no najčastejším prípadom je, že aplikácia nedefinuje žiadnu službu.

\subsection*{Verzie Android SDK}

Najčastejšou najnižšou vyžadovanou verziou Android SDK je verzia 9 s 21,3\% zastúpením. Nanižšie vyžadované verzie Android SDK v našej databáze APK súborov sú zobrazené v grafe \ref{tab:minSdk}. Až 25,64\,\% aplikácií je primárne určených na SDK verziu 19.

\subsection*{Prístupové oprávnenia}

Android aplikácie najčastejšie deklarujú, že využívajú 4 prístupové oprávnenia (viď \ref{el_uses-permission}). Stredná hodnota počtu vyžadovaných oprávnení je 8. 10 najčastejšie využívaných oprávnení spolu s ich percentuálnym zastúpením v analyzovanej vzorke aplikácií je uvádených v tabuľke \ref{tab:permissions}. 

\subsection*{Využité vlastnosti}
Aplikácie deklarujú nízky počet využívaných vlastností (viď \ref{el_uses-permission}). Aritmetický priemer je 1,44, stredná hodnota a modus sú nulové. Najčastejšie deklarované je využívanie vlastností uvedených v tabľke \ref{tab:features}.

\subsection{Podpis APK balíčka}
Na podpisovanie APK balíčkov je v najčastejšie využitý algoritmus \zv{SHA1withRSA}, ktorý využíva až 74,87\,\% aplikácií. 15,56\,\% aplikácií je podpísaných pomocou algoritmu \zv{SHA256withRSA}, podpis pomocou \zv{MD5withRSA} je využitý v 5,88\,\% prípadoch.


\begin{figure}[!htbp]
\centering
\begin{tikzpicture}[scale=0.7,align=center]
        \pie[text=label,rotate=240,
             explode=0.2,
             color={blue!70,cyan!70,red!70,orange!50}]{74.9/SHA1withRSA, 15.6/SHA256withRSA, 5.9/MD5withRSA, 3.6/SHA1withDSA}
    \end{tikzpicture}
\label{fig:signAlg}
\caption{Algoritmus podpisu APK balíčku}
\end{figure}

\subsection*{Lokalizácia}
Aplikácie sú okrem základného jazyka lokalizované najčastejšie v 17 iných jazykoch. Aritmetický priemer počtu lokalizácií je 31,42. Najčastejšie lokalizácie aplikácií sú uvedené v tabuľke \ref{tab:language}. Lokalizácie sú ovplyvnené tým, že časť aplikácií bola stiahnutá z portálov určených pre strednú európu. V českom jazyku je lokalizovaných 49\,\% aplikácií, v slovenčine 46\,\%.


\subsection*{Obrázkové súbory}
Analýza ukázala, že aplikácie využívajú množstvo obrázkových súborov. Stredná hodnota celkového počtu obrázkových súborov je 210, aritmetický priemer dosahuje hodnotu 462 a najčastejším počtom obrázkových súborov je 5 . Stredná hodnota počtu rozdielnych obrázkov (veľkosť a rozlíšenie sa neberie do úvahy) je 134. Najčastejším formátom je PNG, aplikácia obsahuje priemerne 342,8 takýchto súborov.
